# react
## 1.this.setState是同步的还是异步的  
- setState只有在合成事件和“钩子”函数中是异步的，在原生事件和setTimeout中都是同步的
- setState的异步并不是内部代码由异步代码实现，其实本身执行和代码都是同步的，只是合成事件和钩子函数的执行在更新之前，所以没法立马拿到更新后的值，形成了所谓的异步。可以通过第二个参数设置回调函数拿到更新后的值
- setState的异步行为其实也是react的批量更新优化的结果，如果多次调用setState会合并为一次，只执行一次
